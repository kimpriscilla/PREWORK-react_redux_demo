<!-- /* FIRST PART OF REDUX DEMO, NOT A PART OF THE ACTUAL DEMO

<html>
  <head>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/redux/5.0.0-alpha.0/redux.min.js"
      integrity="sha512-6WJ7yVV5HDZwZ0RT5CM3FCTgTt5qC5BlfQ9bG43y0BowT5a3GXQqDYaoZgCk+i9vuB1Yj6KdBPQAU8Ra7tV32w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <h1 id="counter"></h1>
    <script>
      const renderCounter = (count) => {
        let html = `The count is ${count}`;
        document.querySelector("#counter").innerHTML = html;
      };

      document.querySelector("#counter").addEventListener("click", () => {
        unsubscribe();
      });

      const store = Redux.createStore((state = 0, action) => {
        if (action.type === "INC") {
          state = state + 1;
        }
        return state;
      }); //needs a REDUCER (which is a FUNCTION) that will determine what the state will be depending on what we return from the reducer function

      console.log(store.getState());

      /*
      DONT NEED THIS ANYMORE, REDUX OVERRIDES
      const store = {
        state: 0,
        listeners: [],
        dispatch: function (newState) {
          // 1. updating the state
          this.state = newState;
          this.listeners.forEach((listener) => {
            //3. when we end up changing our state, loop over listeners, and for each listeners, let each know that there is a state change
            listener();
          });
        },
        subscribe: function (listener) {
          //2. pass in a function(listener is a function), will let you know that there is a change to the state
          this.listeners.push(listener);
          return () => {
            // return a method to UNSUBSCRIBE!! RESETTING THE LISTENER STATE
            this.listeners = this.listeners.filter(
              (_listener) => listener !== _listener
            ); // set this.listener to whatever they were before BUT I ONLY WANT THE LISTENERS THAT ARENT THE LISTENERS I USED BEFORE
          };
        },
      };
      */

      const unsubscribe = store.subscribe(() => {
        //tells when something ends up changing in the state that im interested in
        renderCounter(store.getState());
      });

      store.subscribe(() => {
        console.log("the store has changed ");
      });

      setInterval(() => {
        store.dispatch({ type: "INC" });
      }, 500);
    </script>
  </body>
</html>
*/ -->
